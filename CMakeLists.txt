# SET THESE VALUES.
set(CURL_INCLUDE_DIR "C:/Users/Chris/Downloads/curlNew/include")
set(CURL_ROOT_DIR "C:/Users/Chris/Downloads/curlNew/Build/lib/")
set(FFMPEG_INCLUDE_DIR "C:/Users/Chris/Downloads/ffmpeg/include")
set(FFMPEG_ROOT_DIR "C:/Users/Chris/Downloads/ffmpeg/")
set(GLIB_INCLUDE_DIR "C:/Users/Chris/Downloads/glib/Prefix")
set(GLIB_ROOT_DIR "C:/Users/Chris/Downloads/glib/Prefix/")
set(INTL_ROOT_DIR "C:/Users/Chris/Downloads/glib/Prefix/")
set(LIBZ_INCLUDE_DIR "C:/Users/Chris/Downloads/glib/Prefix")
set(LIBZ_ROOT_DIR "C:/Users/Chris/Downloads/glib/Prefix/")
set(NLOHMANNJSON_INCLUDE_DIR "C:/Users/Chris/Downloads/json/include")
set(OPENSSL_INCLUDE_DIR "C:/Users/Chris/Downloads/openssl/include")
set(OPENSSL_ROOT_DIR "C:/Users/Chris/Downloads/openssl")
set(OPUS_INCLUDE_DIR "C:/Users/Chris/Downloads/newopus/include")
set(OPUS_ROOT_DIR "C:/Users/Chris/Downloads/newopus/Build")
set(SODIUM_INCLUDE_DIR "C:/Users/Chris/Downloads/libsodium/src/libsodium/include")
set(SODIUM_ROOT_DIR "C:/Users/Chris/Downloads/libsodium/bin/x64/Release/v143/dynamic")

cmake_minimum_required(VERSION 3.20)
project(DiscordCoreAPI_CMake VERSION 1.00 LANGUAGES CXX)
set(CMAKE_MODULE_PATH "${CMAKE_SOURCE_DIR}/CMake;${CMAKE_SOURCE_DIR}/CMake/Find-Scripts")
set(CMAKE_CONFIGURATION_TYPES "${CMAKE_BUILD_TYPE}")

include(CMakePackageConfigHelpers)
include(GenerateProductVersion)

if(NOT EXISTS "${_VCPKG_ROOT_DIR}")
	set(LINUX_OK TRUE)
	if (UNIX)	
		if (NOT EXISTS "${LIBZ_INCLUDE_DIR}" OR NOT EXISTS "${LIBZ_RELEASE_ROOT}" OR NOT EXISTS "${LIBZ_DEBUG_ROOT}")
			set(LINUX_OK FALSE)
		endif()
	endif()
	if (NOT EXISTS "${CURL_INCLUDE_DIR}" OR NOT EXISTS "${CURL_ROOT_DIR}" 
		OR NOT EXISTS "${FFMPEG_INCLUDE_DIR}" OR NOT EXISTS "${FFMPEG_ROOT_DIR}" OR NOT EXISTS "${GLIB_INCLUDE_DIR}"
		OR NOT EXISTS "${GLIB_ROOT_DIR}" OR NOT EXISTS "${NLOHMANNJSON_INCLUDE_DIR}" OR NOT EXISTS "${OPENSSL_INCLUDE_DIR}" OR NOT EXISTS "${OPENSSL_ROOT_DIR}"
		OR NOT EXISTS "${OPUS_INCLUDE_DIR}" OR NOT EXISTS "${OPUS_ROOT_DIR}" OR NOT EXISTS "${SODIUM_INCLUDE_DIR}" OR NOT EXISTS "${SODIUM_ROOT_DIR}" OR NOT LINUX_OK)
		
		message(FATAL_ERROR "Sorry - but please set the _DEBUG_ROOT, _RELEASE_ROOT AND _INCLUDE_DIR values in CMakeLists.txt!")
	endif()
elseif(EXISTS "${_VCPKG_ROOT_DIR}")		
	set(VCPKG_BASE_DIR "${_VCPKG_ROOT_DIR}/installed")
	string(TOLOWER "${CMAKE_HOST_SYSTEM_NAME}" OS_NAME)
	set(VCPKG_INSTALLED_DIR "${VCPKG_BASE_DIR}/x64-${OS_NAME}")
	set(CURL_INCLUDE_DIR "${VCPKG_INSTALLED_DIR}/include")
	set(CURL_ROOT_DIR "${VCPKG_INSTALLED_DIR}/")
	set(FFMPEG_INCLUDE_DIR "${VCPKG_INSTALLED_DIR}/include")
	set(FFMPEG_ROOT_DIR "${VCPKG_INSTALLED_DIR}/")
	set(GLIB_INCLUDE_DIR "${VCPKG_INSTALLED_DIR}/include")
	set(GLIB_ROOT_DIR "${VCPKG_INSTALLED_DIR}/")
	set(LIBZ_INCLUDE_DIR "${VCPKG_INSTALLED_DIR}/include")
	set(LIBZ_ROOT_DIR "${VCPKG_INSTALLED_DIR}/")
	set(NLOHMANN_INCLUDE_DIR "${VCPKG_INSTALLED_DIR}/include")
	set(OPENSSL_INCLUDE_DIR "${VCPKG_INSTALLED_DIR}/include")
	set(OPENSSL_ROOT_DIR "${VCPKG_INSTALLED_DIR}/")
	set(OPUS_INCLUDE_DIR "${VCPKG_INSTALLED_DIR}/include")
	set(OPUS_ROOT_DIR "${VCPKG_INSTALLED_DIR}/")
	set(SODIUM_INCLUDE_DIR "${VCPKG_INSTALLED_DIR}/include")
	set(SODIUM_ROOT_DIR "${VCPKG_INSTALLED_DIR}/")
endif()

add_subdirectory(Library)
